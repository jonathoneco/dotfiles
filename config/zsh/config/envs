#!/usr/bin/env bash
# Editor used by CLI
export EDITOR=nvim
export SUDO_EDITOR="$EDITOR"
export BAT_THEME=ansi

export LANG=en_US.UTF-8
export MANPAGER='nvim +Man!'
export CC="clang"
export CXX="clang++"

export GOPATH=$HOME/.local/go
export GIT_EDITOR=$EDITOR

export ZSH_PLUGINS_DIR=/usr/share/zsh/plugins

export PNPM_HOME="$HOME/.local/share/pnpm"
export PATH="$PNPM_HOME:$PATH"

export DOCKER_FOLDER="$HOME/mnt/garden-bed"

source $HOME/.local/secrets/secrets.env

export PATH="$HOME/.local/bin:$PATH"
export PATH="$HOME/.cargo/bin:$PATH"

addToPathFront $HOME/.npm-global/bin
addToPathFront $HOME/.local/bin
addToPathFront $HOME/.cargo/bin
addToPath $GOPATH/bin

export CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS=1

# Disable beads daemon in git worktrees (use main tree's daemon)
if git rev-parse --is-inside-work-tree &>/dev/null \
  && [ -n "$(git rev-parse --git-common-dir 2>/dev/null)" ] \
  && [ "$(git rev-parse --git-common-dir)" != "$(git rev-parse --git-dir)" ]; then
  export BEADS_NO_DAEMON=1
fi
