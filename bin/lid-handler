#!/bin/bash

# Check if external monitors are connected (anything other than eDP-1)
external_monitors=$(hyprctl monitors -j | jq -r '.[] | select(.name != "eDP-1") | .name' | wc -l)

if [ "$1" = "close" ]; then
    # Only disable internal display if external monitors are present
    if [ "$external_monitors" -gt 0 ]; then
        hyprctl keyword monitor "eDP-1,disable"
    fi
    # If no external monitors, do nothing - let system handle suspend
else
    # Lid is opening - always enable internal display
    # Use config from monitors.conf work setup (line 18)
    hyprctl keyword monitor "eDP-1,1920x1080@60,1760x1440,1.2"
fi
